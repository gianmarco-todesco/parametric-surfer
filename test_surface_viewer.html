<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>test surface viewer</title>
<script src="twgl-full_3.min.js"></script>
<script src="shader_programs.js"></script>
<script src="surface_viewer.js"></script>
</head>
<body>
<canvas id="surface-viewer" width="800" height="600"></canvas>
<script>
var viewer = new SurfaceViewer('surface-viewer');
render = function(time) {
        if(window.meter) meter.tickStart();
        if(gl.NO_ERROR != gl.getError()) throw "uff";
        viewer.drawScene(time * 0.001);
        if(gl.NO_ERROR != gl.getError()) throw "uff";
        if(window.meter) meter.tick();
    }
    time = 0.0;
    animate = function () {
        render(time); time += 25.0;
        requestAnimationFrame(animate);
    }
    animate();
</script>
</body>
</html>
